['touchstart','touchmove','wheel','mousewheel'].map(function(type){jQuery.event.special[type]={setup:function(_,ns,handle){var self=this;if(!!self.addEventListener){self.addEventListener(type,handle,{passive:type.indexOf('touch')===0?!ns.includes('noPreventDefault'):!0})}}}});!function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.EvEmitter=b()}("undefined"==typeof window?this:window,function(){function a(){}var b=a.prototype;return b.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return-1==d.indexOf(b)&&d.push(b),this}},b.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{},d=c[a]=c[a]||{};return d[b]=!0,this}},b.off=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=c.indexOf(b);return-1!=d&&c.splice(d,1),this}},b.emitEvent=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){c=c.slice(0),b=b||[];for(var d=this._onceEvents&&this._onceEvents[a],e=0;e<c.length;e++){var f=c[e],g=d&&d[f];g&&(this.off(a,f),delete d[f]),f.apply(this,b)}return this}},b.allOff=function(){delete this._events,delete this._onceEvents},a}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter")):a.imagesLoaded=b(a,a.EvEmitter)}("undefined"==typeof window?this:window,function(b,c){function f(a,b){for(var c in b)a[c]=b[c];return a}function g(b){if(Array.isArray(b))return b;var c="object"==typeof b&&"number"==typeof b.length;return c?a.call(b):[b]}function j(a,b,c){if(!(this instanceof j))return new j(a,b,c);var d=a;return"string"==typeof a&&(d=document.querySelectorAll(a)),d?(this.elements=g(d),this.options=f({},this.options),"function"==typeof b?c=b:f(this.options,b),c&&this.on("always",c),this.getImages(),l&&(this.jqDeferred=new l.Deferred),void setTimeout(this.check.bind(this))):void m.error("Bad element for imagesLoaded "+(d||a))}function i(a){this.img=a}function k(a,b){this.url=a,this.element=b,this.img=new Image}var l=b.jQuery,m=b.console,a=Array.prototype.slice;j.prototype=Object.create(c.prototype),j.prototype.options={},j.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},j.prototype.addElementImages=function(a){"IMG"==a.nodeName&&this.addImage(a),!0===this.options.background&&this.addElementBackgroundImages(a);var b=a.nodeType;if(b&&d[b]){for(var c,e=a.querySelectorAll("img"),f=0;f<e.length;f++)c=e[f],this.addImage(c);if("string"==typeof this.options.background){var g=a.querySelectorAll(this.options.background);for(f=0;f<g.length;f++){var h=g[f];this.addElementBackgroundImages(h)}}}};var d={1:!0,9:!0,11:!0};return j.prototype.addElementBackgroundImages=function(a){var b=getComputedStyle(a);if(b)for(var c,d=/url\((['"])?(.*?)\1\)/gi,e=d.exec(b.backgroundImage);null!==e;)c=e&&e[2],c&&this.addBackground(c,a),e=d.exec(b.backgroundImage)},j.prototype.addImage=function(a){var b=new i(a);this.images.push(b)},j.prototype.addBackground=function(a,b){var c=new k(a,b);this.images.push(c)},j.prototype.check=function(){function a(a,c,d){setTimeout(function(){b.progress(a,c,d)})}var b=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(b){b.once("progress",a),b.check()}):void this.complete()},j.prototype.progress=function(a,b,c){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded,this.emitEvent("progress",[this,a,b]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,a),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&m&&m.log("progress: "+c,a,b)},j.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(a,[this]),this.emitEvent("always",[this]),this.jqDeferred){var b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}},i.prototype=Object.create(c.prototype),i.prototype.check=function(){var a=this.getIsImageComplete();return a?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.img,b])},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},k.prototype=Object.create(i.prototype),k.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var a=this.getIsImageComplete();a&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},k.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},k.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.element,b])},j.makeJQueryPlugin=function(a){a=a||b.jQuery,a&&(l=a,l.fn.imagesLoaded=function(a,b){var c=new j(this,a,b);return c.jqDeferred.promise(l(this))})},j.makeJQueryPlugin(),j});jQuery.easing.jswing=jQuery.easing.swing;var pow=Math.pow;jQuery.extend(jQuery.easing,{def:"easeOutExpo",easeInExpo:function(a){return 0===a?0:pow(2,10*a-10)},easeOutExpo:function(a){return 1===a?1:1-pow(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:.5>a?pow(2,20*a-10)/2:(2-pow(2,-20*a+10))/2}});if(window.$us===undefined){window.$us={}}
$us.mobileNavOpened=0;$us.header={};['getCurrentHeight','getHeaderInitialPos','getHeight','getScrollDirection','getScrollTop','isFixed','isHidden','isHorizontal','isStatic','isSticky','isStickyAutoHidden','isStickyAutoHideEnabled','isStickyEnabled','isTransparent','isVertical','on'].map(function(name){$us.header[name]=jQuery.noop});jQuery.fn.usMod=function(mod,value){if(this.length==0)return this;if(value===undefined){var pcre=new RegExp('^.*?'+mod+'\_([a-zA-Z0-9\_\-]+).*?$');return(pcre.exec(this.get(0).className)||[])[1]||!1}
this.each(function(_,item){item.className=item.className.replace(new RegExp('(^| )'+mod+'\_[a-zA-Z0-9\_\-]+( |$)'),'$2');if(value!==!1){item.className+=' '+mod+'_'+value}});return this};$us.toBool=function(value){if(typeof value=='boolean'){return value}
if(typeof value=='string'){value=value.trim();return(value.toLocaleLowerCase()=='true'||value=='1')}
return!!parseInt(value)};$us.parseInt=function(value){return parseInt(value)||0};$us.parseFloat=function(value){return parseFloat(value)||0};$us.getScript=function(url,callback){if(!$us.ajaxLoadJs){callback();return!1}
if($us.loadedScripts===undefined){$us.loadedScripts={};$us.loadedScriptsFunct={}}
if($us.loadedScripts[url]==='loaded'){callback();return}else if($us.loadedScripts[url]==='loading'){$us.loadedScriptsFunct[url].push(callback);return}
$us.loadedScripts[url]='loading';$us.loadedScriptsFunct[url]=[];$us.loadedScriptsFunct[url].push(callback)
var complete=function(){for(var i=0;i<$us.loadedScriptsFunct[url].length;i ++){if(typeof $us.loadedScriptsFunct[url][i]==='function'){$us.loadedScriptsFunct[url][i]()}}
$us.loadedScripts[url]='loaded'};var options={dataType:"script",cache:!0,url:url,complete:complete};return jQuery.ajax(options)};$us.getAnimationName=function(animationName,defaultAnimationName){if(jQuery.easing.hasOwnProperty(animationName)){return animationName}
return defaultAnimationName?defaultAnimationName:jQuery.easing._default};$us.timeout=function(fn,delay){var start=new Date().getTime(),handle=new Object();function loop(){var current=new Date().getTime(),delta=current-start;delta>=delay?fn.call():handle.value=window.requestAnimationFrame(loop)};handle.value=window.requestAnimationFrame(loop);return handle};$us.clearTimeout=function(handle){if(handle){window.cancelAnimationFrame(handle.value)}};$us.debounce=function(fn,wait,immediate){var timeout,args,context,timestamp,result;if(null==wait)wait=100;function later(){var last=Date.now()-timestamp;if(last<wait&&last>=0){timeout=setTimeout(later,wait-last)}else{timeout=null;if(!immediate){result=fn.apply(context,args);context=args=null}}}
var debounced=function(){context=this;args=arguments;timestamp=Date.now();var callNow=immediate&&!timeout;if(!timeout)timeout=setTimeout(later,wait);if(callNow){result=fn.apply(context,args);context=args=null}
return result};debounced.prototype={clear:function(){if(timeout){clearTimeout(timeout);timeout=null}},flush:function(){if(timeout){result=fn.apply(context,args);context=args=null;clearTimeout(timeout);timeout=null}}};return debounced};$us.mixins={};$us.mixins.Events={on:function(eventType,handler){if(this.$$events===undefined){this.$$events={}}
if(this.$$events[eventType]===undefined){this.$$events[eventType]=[]}
this.$$events[eventType].push(handler);return this},off:function(eventType,handler){if(this.$$events===undefined||this.$$events[eventType]===undefined){return this}
if(handler!==undefined){var handlerPos=jQuery.inArray(handler,this.$$events[eventType]);if(handlerPos!=-1){this.$$events[eventType].splice(handlerPos,1)}}else{this.$$events[eventType]=[]}
return this},trigger:function(eventType,extraParameters){if(this.$$events===undefined||this.$$events[eventType]===undefined||this.$$events[eventType].length==0){return this}
var params=(arguments.length>2||!jQuery.isArray(extraParameters))?Array.prototype.slice.call(arguments,1):extraParameters;params.unshift(this);for(var index=0;index<this.$$events[eventType].length;index ++){this.$$events[eventType][index].apply(this.$$events[eventType][index],params)}
return this}};if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){jQuery.isMobile=!0}else{jQuery.isMobile=(navigator.platform=='MacIntel'&&navigator.maxTouchPoints>1);jQuery('html').toggleClass('ios-touch',!!jQuery.isMobile)}
jQuery('html').toggleClass('no-touch',!jQuery.isMobile);!function($){$us.$window=$(window);$us.$document=$(document);$us.$html=$('html');$us.$body=$('.l-body:first');$us.$htmlBody=$us.$html.add($us.$body);$us.$canvas=$('.l-canvas:first');$us.usbPreview=function(){return $us.$body.hasClass('usb_preview')}}(jQuery);!function($){$us.getCurrentState=function(){return ''+$us.$body.usMod('state')};$us.currentStateIs=function(state){if(!state){return!1}
if(!$.isArray(state)){state=[''+state]}
return $.inArray($us.getCurrentState(),state)!==-1};$us.getAdminBarHeight=function(){return(document.getElementById('wpadminbar')||{}).offsetHeight||0}}(jQuery);!function($,undefined){"use strict";function USCanvas(options){var self=this;var defaults={disableEffectsWidth:900,backToTopDisplay:100};self.options=$.extend({},defaults,options||{});self.$header=$('.l-header',$us.$canvas);self.$main=$('.l-main',$us.$canvas);self.$sections=$('> *:not(.l-header) .l-section',$us.$canvas);self.$firstSection=self.$sections.first();self.$secondSection=self.$sections.eq(1);self.$stickySections=self.$sections.filter('.type_sticky:visible');self.$fullscreenSections=self.$sections.filter('.full_height');self.$topLink=$('.w-toplink');self.type=$us.$canvas.usMod('type');self._headerPos=self.$header.usMod('pos');self.headerPos=self._headerPos;self.headerBg=self.$header.usMod('bg');self.rtl=$us.$body.hasClass('rtl');self.isScrolling=!1;self.isAndroid=/Android/i.test(navigator.userAgent);if($us.$body.hasClass('us_iframe')){$('a:not([target])').each(function(){$(this).attr('target','_parent')});$(function($){var $framePreloader=$('.l-popup-box-content .g-preloader',window.parent.document);$framePreloader.hide()})}
if(self.hasStickyFirstSection()){$us.$body.addClass('sticky_first_section')}
$us.$window.on('scroll',self._events.scroll.bind(self)).on('resize load',self._events.resize.bind(self)).on('scroll resize load',self._events.toggleClassIsSticky.bind(self));$us.timeout(self._events.resize.bind(self),25);$us.timeout(self._events.resize.bind(self),75)}
USCanvas.prototype={getOffsetTop:function(){var top=Math.ceil($us.$canvas.offset().top);if($us.currentStateIs('mobiles')){top-=$us.getAdminBarHeight()}
return top},isStickySection:function(){var self=this;return!!self.$stickySections.length},hasStickySection:function(){var self=this;if(self.isStickySection()){return self.$stickySections.hasClass('is_sticky')}
return!1},hasPositionStickySections:function(){var self=this;if(self.isStickySection()){return self.$stickySections.filter(function(){return $(this).css('position')=='sticky'}).length}
return!1},getStickySectionHeight:function(){var self=this,stickySectionHeight=0;if(self.isStickySection()){var header=$us.header,$stickySection=self.$stickySections.first();stickySectionHeight=$stickySection.outerHeight(!0);if(self.hasStickyFirstSection()&&header.isHorizontal()&&!header.isStatic()){stickySectionHeight-=header.getCurrentHeight()}}
return stickySectionHeight},hasStickyFirstSection:function(){var self=this,$first=self.$stickySections.first();return self.isStickySection()&&$first.index()===0&&$first.hasClass('is_sticky')},isAfterStickySection:function(node){var $node=$(node);if(!$node.length){return!1}
if(!$node.hasClass('l-section')){$node=$node.closest('.l-section')}
return $node.index()>this.$stickySections.index()},getHeightFirstSection:function(){return this.$firstSection.length?parseFloat(this.$firstSection.outerHeight(!0)):0},_events:{scroll:function(){var self=this,scrollTop=parseInt($us.$window.scrollTop());self.$topLink.toggleClass('active',(scrollTop>=self.winHeight*self.options.backToTopDisplay/100));if(self.isAndroid){if(self.pid){$us.clearTimeout(self.pid)}
self.isScrolling=!0;self.pid=$us.timeout(function(){self.isScrolling=!1},100)}},resize:function(){var self=this;self.winHeight=parseInt($us.$window.height());self.winWidth=parseInt($us.$window.width());$us.$body.toggleClass('disable_effects',(self.winWidth<self.options.disableEffectsWidth));if($us.$body.hasClass('us_iframe')){var $frameContent=$('.l-popup-box-content',window.parent.document),outerHeight=$us.$body.outerHeight(!0);if(outerHeight>0&&$(window.parent).height()>outerHeight){$frameContent.css('height',outerHeight)}else{$frameContent.css('height','')}}
self._events.scroll.call(self)},toggleClassIsSticky:function(){var self=this;if(!self.isStickySection()){return}
self.$stickySections.each(function(_,section){var $section=$(section),offsetTop=section.getBoundingClientRect().top-parseInt($section.css('top'));$section.toggleClass('is_sticky',(parseInt(offsetTop)===0&&$section.css('position')=='sticky'))})}}};$us.canvas=new USCanvas($us.canvasOptions||{})}(jQuery);!function($){$.fn.resetInlineCSS=function(){var self=this,args=[].slice.call(arguments);if(args.length&&$.isArray(args[0])){args=args[0]}
for(var index=0;index<args.length;index ++){self.css(args[index],'')}
return self};$.fn.clearPreviousTransitions=function(){var self=this,prevTimers=(self.data('animation-timers')||'').split(',');if(prevTimers.length>=2){self.resetInlineCSS('transition');prevTimers.map(clearTimeout);self.removeData('animation-timers')}
return self};$.fn.performCSSTransition=function(css,duration,onFinish,easing,delay){duration=duration||250;delay=delay||25;easing=easing||'ease';var self=this,transition=[];self.clearPreviousTransitions();for(var attr in css){if(!css.hasOwnProperty(attr)){continue}
transition.push(attr+' '+(duration/1000)+'s '+easing)}
transition=transition.join(', ');self.css({transition:transition});var timer1=setTimeout(function(){self.css(css)},delay);var timer2=setTimeout(function(){self.resetInlineCSS('transition');if($.isFunction(onFinish)){onFinish()}},duration+delay);self.data('animation-timers',timer1+','+timer2)};$.fn.slideDownCSS=function(duration,onFinish,easing,delay){var self=this;if(self.length==0){return}
self.clearPreviousTransitions();self.resetInlineCSS('padding-top','padding-bottom');var timer1=setTimeout(function(){var paddingTop=parseInt(self.css('padding-top')),paddingBottom=parseInt(self.css('padding-bottom'));self.css({visibility:'hidden',position:'absolute',height:'auto','padding-top':0,'padding-bottom':0,display:'block'});var height=self.height();self.css({overflow:'hidden',height:'0px',opacity:0,visibility:'',position:''});self.performCSSTransition({opacity:1,height:height+paddingTop+paddingBottom,'padding-top':paddingTop,'padding-bottom':paddingBottom},duration,function(){self.resetInlineCSS('overflow').css('height','auto');if(typeof onFinish=='function'){onFinish()}},easing,delay)},25);self.data('animation-timers',timer1+',null')};$.fn.slideUpCSS=function(duration,onFinish,easing,delay){var self=this;if(self.length==0){return}
self.clearPreviousTransitions();self.css({height:self.outerHeight(),overflow:'hidden','padding-top':self.css('padding-top'),'padding-bottom':self.css('padding-bottom')});self.performCSSTransition({height:0,opacity:0,'padding-top':0,'padding-bottom':0},duration,function(){self.resetInlineCSS('overflow','padding-top','padding-bottom').css({display:'none'});if(typeof onFinish=='function'){onFinish()}},easing,delay)};$.fn.fadeInCSS=function(duration,onFinish,easing,delay){var self=this;if(self.length==0){return}
self.clearPreviousTransitions();self.css({opacity:0,display:'block'});self.performCSSTransition({opacity:1},duration,onFinish,easing,delay)};$.fn.fadeOutCSS=function(duration,onFinish,easing,delay){var self=this;if(self.length==0){return}
self.performCSSTransition({opacity:0},duration,function(){self.css('display','none');if($.isFunction(onFinish)){onFinish()}},easing,delay)}}(jQuery);jQuery(function($){"use strict";var _window=window,_document=document;if(_document.cookie.indexOf('us_cookie_notice_accepted=true')!==-1){$('.l-cookie').remove()}else{$us.$document.on('click','#us-set-cookie',function(e){e.preventDefault();e.stopPropagation();var d=new Date();d.setFullYear(d.getFullYear()+1);_document.cookie='us_cookie_notice_accepted=true; expires='+d.toUTCString()+'; path=/;';if(location.protocol==='https:'){_document.cookie+=' secure;'}
$('.l-cookie').remove()})}
var USPopupLink=function(context,options){var $links=$('a[ref=magnificPopup][class!=direct-link]:not(.inited)',context||_document),defaultOptions={fixedContentPos:!0,mainClass:'mfp-fade',removalDelay:300,type:'image'};if($links.length){$us.getScript($us.templateDirectoryUri+'/common/js/vendor/magnific-popup.js',function(){$links.addClass('inited').magnificPopup($.extend({},defaultOptions,options||{}))})}};$.fn.wPopupLink=function(options){return this.each(function(){$(this).data('wPopupLink',new USPopupLink(this,options))})};$us.$document.wPopupLink();(function(){var $footer=$('.l-footer');if($us.$body.hasClass('footer_reveal')&&$footer.length&&$footer.html().trim().length){var usFooterReveal=function(){var footerHeight=$footer.innerHeight();if(_window.innerWidth>parseInt($us.canvasOptions.columnsStackingWidth)-1){$us.$canvas.css('margin-bottom',Math.round(footerHeight)-1)}else{$us.$canvas.css('margin-bottom','')}};usFooterReveal();$us.$window.on('resize load',usFooterReveal)}})();var $usYTVimeoVideoContainer=$('.with_youtube, .with_vimeo');if($usYTVimeoVideoContainer.length){$us.$window.on('resize load',function(){$usYTVimeoVideoContainer.each(function(){var $container=$(this),$frame=$container.find('iframe').first(),cHeight=$container.innerHeight(),cWidth=$container.innerWidth(),fWidth='',fHeight='';if(cWidth/cHeight<16/9){fWidth=cHeight*(16/9);fHeight=cHeight}else{fWidth=cWidth;fHeight=fWidth*(9/16)}
$frame.css({'width':Math.round(fWidth),'height':Math.round(fHeight),})})})}});(function($,undefined){"use strict";function USWaypoints(){this.waypoints=[];$us.$canvas.on('contentChange',this._countAll.bind(this));$us.$window.on('resize load',this._events.resize.bind(this)).on('scroll scroll.waypoints',this._events.scroll.bind(this));$us.timeout(this._events.resize.bind(this),75);$us.timeout(this._events.scroll.bind(this),75)}
USWaypoints.prototype={_events:{scroll:function(){var scrollTop=parseInt($us.$window.scrollTop());scrollTop=(scrollTop>=0)?scrollTop:0;for(var i=0;i<this.waypoints.length;i ++){if(this.waypoints[i].scrollPos<scrollTop){this.waypoints[i].fn(this.waypoints[i].$elm);this.waypoints.splice(i,1);i --}}},resize:function(){$us.timeout(function(){this._countAll.call(this);this._events.scroll.call(this)}.bind(this),150);this._countAll.call(this);this._events.scroll.call(this)}},add:function($elm,offset,fn){$elm=($elm instanceof $)?$elm:$($elm);if($elm.length==0){return}
if(typeof offset!='string'||offset.indexOf('%')==-1){offset=parseInt(offset)}
if($elm.offset().top<($us.$window.height()+$us.$window.scrollTop())){offset=0}
var waypoint={$elm:$elm,offset:offset,fn:fn};this._count(waypoint);this.waypoints.push(waypoint)},_count:function(waypoint){var elmTop=waypoint.$elm.offset().top,winHeight=$us.$window.height();if(typeof waypoint.offset=='number'){waypoint.scrollPos=elmTop-winHeight+waypoint.offset}else{waypoint.scrollPos=elmTop-winHeight+winHeight*parseInt(waypoint.offset)/100}},_countAll:function(){for(var i=0;i<this.waypoints.length;i ++){this._count(this.waypoints[i])}}};$us.waypoints=new USWaypoints})(jQuery);(function(){var lastTime=0,vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++ x){window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'];window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame']}
if(!window.requestAnimationFrame){window.requestAnimationFrame=function(callback,element){var currTime=new Date().getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id}}
if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(id){clearTimeout(id)}}}());if($us.$body.hasClass('single-format-video')){figure=$us.$body.find('figure.wp-block-embed div.wp-block-embed__wrapper');if(figure.length){figure.each(function(){if(this.firstElementChild===null){this.remove()}})}}
!function($,undefined){"use strict";$us.collapsibleContent=function(container){this.init(container)};$us.collapsibleContent.prototype={init:function(container){this.$container=$(container);this.$firstElm=$('> *:first',this.$container);this.contentHeight=this.$container.data('content-height')||200;this.$container.on('click','.collapsible-content-more, .collapsible-content-less',this._events.toggleContent.bind(this));if(!this.$container.closest('.owl-carousel').length){this.initHeightCheck.call(this)}},initHeightCheck:function(){var height=this.$firstElm.css('height',this.contentHeight).height();this.$firstElm.css('height','');var elmHeight=this.$firstElm.height();if(elmHeight&&elmHeight<=height){$('.toggle-links',this.$container).hide();this.$firstElm.css('height','');this.$container.removeClass('with_collapsible_content')}else{$('.toggle-links',this.$container).show();this.$firstElm.css('height',this.contentHeight)}},_isVisible:function(){if(!this.$container.length){return!1}
var w=window,d=document,rect=this.$container[0].getBoundingClientRect(),containerPosition={top:w.pageYOffset+rect.top,left:w.pageXOffset+rect.left,right:w.pageXOffset+rect.right,bottom:w.pageYOffset+rect.bottom},windowPosition={top:w.pageYOffset,left:w.pageXOffset,right:w.pageXOffset+d.documentElement.clientWidth,bottom:w.pageYOffset+d.documentElement.clientHeight};return(containerPosition.bottom>windowPosition.top&&containerPosition.top<windowPosition.bottom&&containerPosition.right>windowPosition.left&&containerPosition.left<windowPosition.right)},_events:{toggleContent:function(e){e.preventDefault();e.stopPropagation();this.$container.toggleClass('show_content',$(e.target).hasClass('collapsible-content-more')).trigger('toggleContent');$us.timeout(function(){$us.$canvas.trigger('contentChange');if($.isMobile&&!this._isVisible()){$us.$htmlBody.stop(!0,!1).scrollTop(this.$container.offset().top-$us.header.getCurrentHeight(!0))}}.bind(this),1)}}};$.fn.usCollapsibleContent=function(){return this.each(function(){$(this).data('usCollapsibleContent',new $us.collapsibleContent(this))})};$('[data-content-height]',$us.$canvas).usCollapsibleContent();if($('.owl-carousel',$us.$canvas).length){$us.$canvas.on('click','.collapsible-content-more, .collapsible-content-less',function(e){var $target=$(e.target),$container=$target.closest('[data-content-height]');if(!$container.data('usCollapsibleContent')){$container.usCollapsibleContent();$target.trigger('click')}})}}(jQuery);!function($,undefined){$us.$window.on('us.wpopup.afterShow',function(_,WPopup){if(WPopup instanceof $us.WPopup&&$('video.wp-video-shortcode',WPopup.$box).length){var handle=$us.timeout(function(){$us.clearTimeout(handle);window.dispatchEvent(new Event('resize'))},1)}})}(jQuery)